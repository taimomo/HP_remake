# グローバルアクセス拒否（明示的に書くのは推奨しないため削除）

# .env を外部からアクセス不能にする
<FilesMatch "^\.env$">
  Require all denied
</FilesMatch>

# config.php や composer 関連ファイルのブロック
<FilesMatch "^(config\.php|composer\.json|composer\.lock)$">
  Require all denied
</FilesMatch>

# vendor ディレクトリへのアクセスブロック
RedirectMatch 404 ^/vendor/

# 文字コードの明示
AddDefaultCharset UTF-8

# index.php を優先表示
DirectoryIndex index.php index.html

# index.html にアクセスされたら index.php にリダイレクト
RewriteEngine On
RewriteCond %{THE_REQUEST} ^[A-Z]+\s/index\.html\s
RewriteRule ^index\.html$ /index.php [R=301,L]

# 任意：index.php を URL から隠す（SEO対策）
# RewriteCond %{THE_REQUEST} ^[A-Z]+\s/+index\.php[\s?]
# RewriteRule ^index\.php$ / [R=301,L]

# http → https にリダイレクト（SSL導入済みの場合）
RewriteCond %{HTTPS} off
RewriteRule ^(.*)$ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301]